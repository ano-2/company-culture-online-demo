(window.webpackJsonp=window.webpackJsonp||[]).push([["videoList"],{1670:function(e,t,i){"use strict";i("274e")},"274e":function(e,t,i){},"2ced":function(e,t,i){},"4bf0":function(e,t,i){"use strict";i.r(t);var a=i("4391"),s=i("ee5d"),o=i("9401");s={name:"videoList",components:{AwFooter:s.a,AwHeader:a.a,BannerTitle:o.a},data(){return{banner:"活动视频",loading:!0,url:i("faba"),videoList:[{video_title:"暂无数据",video_desc:"暂无数据",author:"----/---",create_time:"2021-12-14",cover_img:""}],setTop:{},pageInfo:{pagecur:1,total:0,pageSize:8},videoDialog:!1,playerOptions:{height:"530",width:"770",fluid:!0,language:"zh-CN",sources:[{type:"video/mp4",src:" "}],autoplay:!1,controls:!0,poster:" ",notSupportedMessage:"此视频暂无法播放，请稍后再试",controlBar:{timeDivider:!0,durationDisplay:!0,remainingTimeDisplay:!1,fullscreenToggle:!0}}}},methods:{async getVideos(){const e=(await this.$http.get("/web/videos"))["data"];200!==e.status?this.$message.error("获取失败,请重试或检查网络连接！"):(this.pageInfo.total=e.data.list.length,this.videoList=e.data.list.reverse().slice(this.pageInfo.pageSize*(this.pageInfo.pagecur-1),this.pageInfo.pageSize*this.pageInfo.pagecur),this.loading=!1)},dialogShow(e){this.playerOptions.sources[0].src=e.video_file,this.playerOptions.poster=e.cover_img,this.videoDialog=!0},goBack(){this.$router.push("/")},handleCurrentChange(e){this.pageInfo.pagecur=e,this.getVideos()}},mounted(){this.$store.commit("setHeaderLogo",{headerLogoShow:!1}),this.$store.commit("setShadowActive",{headerShadowActive:!1}),this.$store.commit("setNavDarkActive",{navDarkActive:!0}),this.$store.commit("setHeaderShow",{headerShow:!1}),this.getVideos()}},i("1670"),i("5352"),a=i("0b56"),o=Object(a.a)(s,(function(){var e=this,t=e._self._c;return t("div",[t("AwHeader",{ref:"customer_header",staticClass:"customer_header"}),t("div",{staticClass:"box"},[t("BannerTitle",{attrs:{imgUrl:e.url,title:e.banner,description:"Video Center"}})],1),t("div",{staticClass:"w"},[t("el-page-header",{attrs:{content:e.banner,title:"首页"},on:{back:e.goBack}}),t("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"list"},[t("ul",e._l(e.videoList,(function(i){return t("li",{key:i.title,on:{click:function(t){return e.dialogShow(i)}}},[e._m(0,!0),t("el-image",{staticStyle:{width:"100%",height:"160px"},attrs:{src:i.cover_img}}),t("div",{staticClass:"desc"},[t("h3",[e._v(e._s(i.video_title))]),t("span",[t("p",[e._v(e._s(i.news_desc))])]),t("span",[t("p",[t("i",{staticClass:"el-icon-time"}),e._v(e._s(i.create_time))])])])],1)})),0)]),t("el-pagination",{attrs:{"current-page":e.pageInfo.pagecur,"page-size":this.pageInfo.pageSize,"pager-count":5,layout:"total, prev, pager, next",total:this.pageInfo.total},on:{"current-change":e.handleCurrentChange}}),t("el-dialog",{staticClass:"video-dialog",attrs:{visible:e.videoDialog,width:"1000px",top:"20vh","destroy-on-close":""},on:{"update:visible":function(t){e.videoDialog=t}}},[t("video-player",{staticClass:"vjs-default-skin vjs-big-play-centered",attrs:{options:e.playerOptions}})],1)],1),t("AwFooter")],1)}),[function(){var e=this._self._c;return e("div",{staticClass:"mask"},[e("i",{staticClass:"el-icon-video-play"})])}],!1,null,"0fdb9fd8",null);t.default=o.exports},5352:function(e,t,i){"use strict";i("dfb6")},"700b":function(e,t,i){"use strict";i("2ced")},9401:function(e,t,i){"use strict";var a={name:"bannerTitle",props:{title:{type:String,default:"Title"},description:{type:String,default:""},imgUrl:{type:String,default:""}}};i("700b"),i=i("0b56"),i=Object(i.a)(a,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"banner"},[t("div",{staticClass:"banner-bg",style:{background:`url('${e.imgUrl}')  no-repeat`}}),t("div",{staticClass:"banner-title"},[t("h1",[e._v(e._s(e.title))]),t("p",[e._v(e._s(e.description))])])])}),[],!1,null,"40a0d5de",null);t.a=i.exports},dfb6:function(e,t,i){},faba:function(e,t,i){e.exports=i.p+"img/video_banner.4bac6468.png"}}]);